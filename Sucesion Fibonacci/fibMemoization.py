# Sucesion de fibonacci usando recursion y memoization para optimizarla
from timeit import default_timer
import sys

"""0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55"""

nums = {}
sys.setrecursionlimit(5000)

def fib(n):
    if n <=2:
        return 1

    if n in nums:
        return nums[n]
    else:
        num = fib(n - 1) + fib(n - 2)
        nums[n]=num
        return num


inicio = default_timer()
print(fib(2600))
fin = default_timer()
print("Tiempo de ejecución --> {:.5f}".format(fin-inicio))

print()

inicio = default_timer()
print(fib(4500))
fin = default_timer()
print("Tiempo de ejecución --> {:.5f}".format(fin-inicio))


"""
Puede calcular basicamente cualquier numero de la sucesion en un tiempo ridiculamente corto
a comparacion de si no se usara memoization (ni medio segundo)

· Para lograr eso hubo que deshacerse del limite del python por iteraciones en recursion (1000) y 
aumentarla mucho mas
"""

"""
· Numero 2600 de la sucesion
10432289917600433472108903729858189066051963297082528451413857612776679698758981261584449232222942
09240435826462840613016129522686703430390578370879529283216874292811036577660198236004386947922100
033071152306835191145188815511638162742959546076396971814630324763383058684665773331452994604919781
5343774718013723510574665763679083253325467030469566006037799943039249369181873060058517189810445609
06654651895515411173592988999223040165931761442922265329684587111090688981231489017045653657659370819
125270678909917342857885668337358511040050026325  
Tiempo de ejecución --> 0.04973

· Numero 4500 de la sucesion
124421697659866000931127091770892036121474434466304987380055720681621312831422461955058594766358409
427158140632986365610744662719445559881715787691147024301616094979295679890842414604142175294578112
14707916834751652115556623570337602856687677136840560298930756759833845403907056096792180760058713
55020332343692708141063622331577585670477331657210705212748977902468692654925708144659893336347810610
2709200554831832365726844152885659058838306188674568515386719543386011107789134768545974863998999176623
979652761685601018614871826076280279702410446131191212145186732677668241001713592907503112051754499474
5662701497090905891247852178050439214767260868550674090606935027056650867139859528989938128568362785773
6752902235871478776372580028180282482590579460092743768523820403096309391114860350909219231555046836071
0831791686757243149232006736793791674270298268671415079814785035288727481753552940277003788345934437605
647611832003687361710064694000
Tiempo de ejecución --> 0.05704
"""
